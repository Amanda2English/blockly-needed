<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>SVG Path Playground</title>
  <script src="../core/block_rendering_constants.js"></script>

  <style>
    html, body {
      height: 100%;
    }
    body {
      background-color: #fff;
      font-family: sans-serif;
      overflow: hidden;
    }
    .pathDebugClass {
      stroke-width: 1px;
      stroke: black;
      fill: none;
    }
    .lineStartMarker {
      fill: blue;
    }
  </style>

<script>
'use strict';
var svgSpace;

/**
 * Add a CSS class to a element.
 * Similar to Closure's goog.dom.classes.add, except it handles SVG elements.
 * @param {!Element} element DOM element to add class to.
 * @param {string} className Name of class to add.
 * @return {boolean} True if class was added, false if already present.
 */
function addClass(element, className) {
  var classes = element.getAttribute('class') || '';
  if ((' ' + classes + ' ').indexOf(' ' + className + ' ') != -1) {
    return false;
  }
  if (classes) {
    classes += ' ';
  }
  element.setAttribute('class', classes + className);
  return true;
};

function createSvgElement(name, attrs, parent) {
  var e = /** @type {!SVGElement} */
      (document.createElementNS('http://www.w3.org/2000/svg', name));
  for (var key in attrs) {
    e.setAttribute(key, attrs[key]);
  }
  // IE defines a unique attribute "runtimeStyle", it is NOT applied to
  // elements created with createElementNS. However, Closure checks for IE
  // and assumes the presence of the attribute and crashes.
  if (document.body.runtimeStyle) {  // Indicates presence of IE-only attr.
    e.runtimeStyle = e.currentStyle = e.style;
  }
  if (parent) {
    parent.appendChild(e);
  }
  return e;
};

function addPathAt(path, x, y) {
  var group = createSvgElement('g', {}, svgSpace);
  createSvgElement('path', {
    'd': 'm ' + (x + 50) + ',' + y + ' ' + path,
    'marker-start': 'url(#reddot)',
    'marker-end': 'url(#bluedot)',
    'class': 'pathDebugClass'
  },
  group);


  return group;
}

function start() {
  svgSpace = document.getElementById('workspace');
  addPathAt(BRC.TAB_PATH_DOWN, 0, 0);
  addPathAt(BRC.START_HAT_PATH, 0, 40);
  addPathAt(BRC.NOTCH_PATH_LEFT, 0, 60);
  addPathAt(BRC.NOTCH_PATH_RIGHT, 0, 70);
  addPathAt(BRC.LINE, 0, 80);
  addPathAt(BRC.INNER_TOP_LEFT_CORNER, 0, 90);
  addPathAt(BRC.INNER_BOTTOM_LEFT_CORNER, 0, 100);
}
</script>

</head>

<body onload="start()">

  <svg xmlns="http://www.w4.org/2000/svg" version="1.1" width="1000px" height="1000px" viewBox="0 0 200 200" id="workspace">

    <defs>
      <pattern id="grid" patternUnits="userSpaceOnUse" width="10" height="10">
        <line stroke="#ccc" stroke-width="2" x1="0" y1="1" x2="2" y2="1"></line>
      </pattern>
      <!-- simple dot marker definitions -->
      <marker id="reddot" viewBox="0 0 10 10" refX="5" refY="5"
          markerWidth="5" markerHeight="5">
        <circle cx="5" cy="5" r="2" fill="red" />
      </marker>
      <marker id="bluedot" viewBox="0 0 10 10" refX="5" refY="5"
          markerWidth="5" markerHeight="5">
        <circle cx="5" cy="5" r="2" fill="blue" />
      </marker>
    </defs>
    <rect x="0" y="0" width="1000" height="1000" style="fill:url(#grid);"></rect>
  </svg>
</body>
