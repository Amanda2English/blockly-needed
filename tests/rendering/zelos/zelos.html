<html>

<head>
  <script type="text/javascript" src="../../../blockly_uncompressed.js"></script>
  <script type="text/javascript" src="https://unpkg.com/pxt-blockly@2.1.12/blocks_compressed.js"></script>
  <script type="text/javascript" src="https://unpkg.com/pxt-blockly@2.1.12/msg/messages.js"></script>

  <style>
    .blocklyText {
      font: "Helvetica Neue", "Segoe UI", Helvetica, sans-serif;
      font-weight: bold;
      font-size: 12pt;
    }
  </style>
</head>

<body>
  <div id="blocklyDiv"></div>
  <script>
    Blockly.Field.FONTSIZE = 12;
    var blocklyDiv = document.getElementById('blocklyDiv');
    var workspace;
    window.addEventListener('message', function (msg) {
      var xml = msg.data;
      try {
        if (workspace) {
          workspace.dispose();
          blocklyDiv.innerHTML = '';
        }
      } catch {
      }

      workspace = Blockly.inject(blocklyDiv, {
        renderer: 'zelos',
        move: {
          scrollbars: true,
          drag: true,
          wheel: false,
        },
      });

      try {
        Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom(xml), workspace);
      } catch {
      }
    });
  </script>
</body>

</html>